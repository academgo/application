import React, { FC } from "react";
import styles from "../StepOne/StepOne.module.scss";
import { StepThree as StepThreeType } from "@/types/homepage";
import StepCarousel from "../StepCarousel/StepCarousel";
import VideoStep from "../VideoStep/VideoStep";

type Props = {
  stepThree: StepThreeType;
};

const StepThree: FC<Props> = ({ stepThree }) => {
  return (
    <section className={styles.stepSection}>
      <svg
        className={styles.backgroundShape4}
        xmlns="http://www.w3.org/2000/svg"
        width="724"
        height="474"
        viewBox="0 0 724 474"
        fill="none"
      >
        <path
          opacity="0.5"
          d="M685.4 -3.38471e-05L706.4 1.19998L705.8 11.7C703.8 45.8 694.2 69.1 676.3 83C663.3 93.1 647.4 97.1 632 101C618.4 104.4 606.1 107.5 597.8 114.2C604.8 120.3 610.7 129.3 614.9 140.5C622.2 159.9 615.3 169.9 610.6 174.1C602 181.8 588 181.2 578.7 172.8C572.7 167.4 569 159.7 567.3 149.2C566.2 142.7 565.7 134.1 567.7 125.2C555.8 124.4 538.1 123.8 526.8 128C490 141.8 489.2 176.5 489.8 186.7C490.8 203.8 500.3 219.3 513.9 226.2C526.6 232.6 542.9 232.1 557.2 231.7C560.1 231.6 563.2 231.5 566.4 231.4C601.2 230.1 653.7 228 691.5 257C714.9 275 721.6 297.2 723.1 312.7C725.2 333.7 718.6 355.7 705.9 370.1C686.9 391.7 656.9 403.7 616.8 405.8C609.1 406.2 601.2 405.1 592.8 403.9C572.5 401 551.6 398.1 529.8 415.9C524.9 419.9 521 425.5 516.8 431.4C513.2 436.5 509.4 441.8 504.7 446.6C492.2 459.4 480.9 467.1 469.3 470.7C455.5 474.9 441.4 473.5 426.2 466.2C413.3 460.1 409.7 448.5 406.7 439.2C402.8 426.9 400.2 418.7 378.4 417.5C368.6 416.9 359.1 412.3 351.5 404.3C344.5 397 339.9 387.7 338.5 378.1C334.3 350.4 358.2 328.6 371 316.8C395.9 293.9 396.5 281.6 394.8 274.2L394.7 273.8C394.4 272.5 393.5 268.5 380.6 266.6C364.9 264.3 360.3 272.1 351.3 295.3C344.3 313.3 335.5 335.6 311.7 344.1C298.5 348.8 278 348.1 264.5 337.7C255.3 330.7 250.8 320.2 251.7 308.3C252.9 293.5 263.1 278.5 271.3 266.5C274.3 262 277.5 257.4 278.5 255C289.5 229.4 287.4 210.6 272.2 199.2C248.2 181 200.9 185.5 188.7 195.3C181.6 201 176.6 209.2 171.2 217.9C159.1 237.7 144 262.3 98.6 264.6C62 266.5 34.1 266.8 10.5 265.6L1.81793e-05 265.1L1.00002 244.1L11.5 244.6C34.3 245.7 61.6001 245.4 97.4 243.6C131.7 241.9 141.7 225.7 153.2 206.9C159.2 197.1 165.5 186.9 175.4 178.9C195 163.1 252.9 158.3 284.8 182.4C298.2 192.6 317.7 216.5 297.7 263.2C295.9 267.5 292.5 272.4 288.5 278.2C282 287.7 273.2 300.6 272.5 309.9C272.1 314.7 273.6 318.2 277.1 320.9C284.3 326.4 296.9 326.9 304.5 324.1C319.3 318.8 325.3 303.5 331.6 287.4C335.8 276.7 340.1 265.7 347.3 257.6C356.4 247.4 368.5 243.4 383.5 245.6C401.5 248.3 412.1 256.2 415 269L415.1 269.3C421.1 295.3 400.8 317.6 385 332.1C371.3 344.7 356.8 359.4 359.1 374.8C360.8 385.8 370.3 395.8 379.4 396.4C415.7 398.4 422.2 419.1 426.5 432.8C429.2 441.4 430.7 445.1 434.9 447.1C454.7 456.5 469.5 452.3 489.5 431.8C493.1 428.1 496.2 423.7 499.5 419.1C504.3 412.3 509.3 405.3 516.4 399.5C545.4 375.9 574.4 380 595.6 383C603 384 609.9 385 615.6 384.7C649.9 383 674.9 373.4 690 356.1C698.8 346.1 703.6 329.8 702.1 314.6C701 303.3 696 287 678.5 273.5C646.8 249.2 600.7 250.9 567 252.2C563.7 252.3 560.6 252.4 557.7 252.5C541.7 253 521.7 253.6 504.3 244.8C484.1 234.6 470.1 212.2 468.7 187.8C467 159.1 479.4 123.1 519.3 108.1C537.7 101.2 564.1 103.5 576.8 104.6C577 104.6 577.2 104.6 577.4 104.7C589.8 89.7 609.3 84.7999 626.8 80.4C640.7 76.9 653.8 73.6 663.3 66.2C676.2 56.2 683.2 37.9 684.8 10.2L685.4 -3.38471e-05ZM596 158.6C596.3 158.6 596.5 158.6 596.6 158.5C597 158.1 597.7 154.6 595.2 148C594.2 145.2 591.5 139 587.4 133.8C587 137.6 587.1 141.6 587.8 145.9C588.7 151.4 590.3 155.3 592.6 157.3C593.7 158.2 595.2 158.6 596 158.6Z"
          fill="white"
        />
      </svg>
      <svg
        className={styles.backgroundShape5}
        xmlns="http://www.w3.org/2000/svg"
        width="235"
        height="526"
        viewBox="0 0 235 526"
        fill="none"
      >
        <path
          opacity="0.5"
          d="M128.19 520.68L107.664 525.278L105.365 515.015C97.9491 481.671 100.8 456.632 114.209 438.361C123.946 425.087 138.142 416.885 151.885 408.917C164.034 401.922 175.015 395.571 181.162 386.854C172.759 382.905 164.62 375.865 157.513 366.244C145.179 349.585 149.076 338.077 152.446 332.751C158.608 322.99 172.237 319.732 183.482 325.264C190.732 328.814 196.399 335.206 200.91 344.839C203.748 350.789 206.584 358.924 207.098 368.031C218.762 365.541 235.95 361.27 245.668 354.136C277.281 330.785 268.546 297.193 265.176 287.547C259.53 271.375 246.149 259.069 231.179 256.158C217.211 253.481 201.672 258.426 188.028 262.728C185.266 263.618 182.312 264.563 179.262 265.536C146.149 276.317 96.2314 292.716 51.9341 275.178C24.4989 264.275 11.9748 244.759 6.28694 230.263C-1.48437 210.641 -1.16223 187.674 7.10819 170.347C19.4657 144.369 45.032 124.611 83.0235 111.608C90.3195 109.115 98.2187 108.009 106.626 106.862C126.944 104.092 147.839 101.157 163.931 78.0665C167.548 72.8774 169.765 66.4234 172.188 59.5987C174.254 53.7077 176.457 47.5696 179.662 41.6659C188.179 25.9317 196.938 15.4313 207.108 8.79183C219.23 0.972806 233.174 -1.54251 249.793 1.31528C263.87 3.6489 270.509 13.8194 275.942 21.9421C283.062 32.7036 287.808 39.8779 309.103 35.0613C318.693 32.9543 329.089 34.7765 338.59 40.3891C347.321 45.4927 354.293 53.1772 358.269 62.0267C369.895 87.5172 352.879 115.03 343.8 129.884C326.125 158.728 328.916 170.722 332.578 177.374L332.784 177.731C333.428 178.899 335.39 182.5 348.317 180.794C364.046 178.706 366.334 169.944 368.636 145.166C370.438 125.937 372.794 102.08 393.356 87.3865C404.764 79.2509 424.672 74.3095 440.504 80.6144C451.269 84.8269 458.473 93.693 460.867 105.384C463.766 119.947 458.064 137.167 453.465 150.954C451.812 156.104 449.994 161.404 449.69 163.986C446.122 191.62 453.29 209.126 471.032 215.927C499.099 226.858 543.357 209.575 552.407 196.809C557.674 189.382 560.237 180.126 563.048 170.28C569.262 147.923 577.047 120.128 620.081 105.481C654.761 93.6299 681.512 85.6999 704.539 80.3904L714.774 77.9954L719.564 98.4663L709.329 100.861C687.099 106.048 660.925 113.814 626.987 125.35C594.464 136.379 589.284 154.699 583.372 175.929C580.286 186.998 577.02 198.533 569.69 208.939C555.167 229.503 500.796 249.977 463.515 235.536C447.833 229.396 422.533 211.751 428.978 161.359C429.531 156.73 431.459 151.086 433.718 144.412C437.367 133.495 442.298 118.679 440.424 109.542C439.494 104.816 437.093 101.861 432.987 100.223C424.556 96.9052 412.301 99.8753 405.758 104.65C392.976 113.801 391.396 130.159 389.746 147.369C388.637 158.81 387.515 170.567 382.808 180.329C376.85 192.632 366.308 199.793 351.279 201.785C333.228 204.118 320.87 199.424 314.575 187.907L314.396 187.646C301.505 164.284 314.921 137.276 326.145 119.003C335.871 103.133 345.79 85.0238 339.36 70.8426C334.712 60.7288 322.837 53.7131 313.92 55.6284C278.461 63.6469 266.54 45.5187 258.652 33.5203C253.7 25.9886 251.244 22.8409 246.657 22.0677C225.039 18.4501 211.955 26.543 198.335 51.7369C195.886 56.2814 194.109 61.3622 192.195 66.6901C189.441 74.5448 186.55 82.6465 181.31 90.1693C159.882 120.81 130.868 124.809 109.657 127.73C102.266 128.795 95.3565 129.723 89.9566 131.573C57.4337 142.602 36.019 158.682 26.2346 179.456C20.51 191.484 20.3578 208.476 25.9636 222.684C30.1164 233.25 39.3896 247.558 59.9179 255.748C97.0612 270.437 140.933 256.176 172.988 245.696C176.135 244.696 179.089 243.75 181.85 242.86C197.102 237.997 216.173 231.942 235.317 235.64C257.539 239.917 277.138 257.626 285.168 280.71C294.663 307.847 292.597 345.867 258.331 371.221C242.525 382.897 216.504 387.915 203.988 390.336C203.796 390.39 203.604 390.445 203.384 390.404C195.566 408.226 178.154 418.28 162.528 427.305C150.118 434.478 138.423 441.24 131.313 450.959C121.645 464.109 119.925 483.627 125.973 510.706L128.19 520.68ZM170.733 343.659C170.444 343.741 170.252 343.796 170.183 343.92C169.908 344.414 170.193 347.972 174.405 353.635C176.134 356.054 180.429 361.277 185.796 365.155C185.14 361.391 183.948 357.572 182.098 353.628C179.726 348.584 177.119 345.272 174.359 343.978C173.054 343.414 171.502 343.44 170.733 343.659Z"
          fill="white"
        />
      </svg>
      <StepCarousel number={stepThree.number} title={stepThree.title}>
        <div className={styles.step}>
          <p className={styles.number}>{stepThree.number}</p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="10"
            height="10"
            viewBox="0 0 10 10"
            fill="none"
          >
            <circle cx="5" cy="5" r="5" fill="#091728" />
          </svg>
          <p className={styles.title}>{stepThree.title}</p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="10"
            height="10"
            viewBox="0 0 10 10"
            fill="none"
          >
            <circle cx="5" cy="5" r="5" fill="#091728" />
          </svg>
        </div>
        <div className={styles.step}>
          <p className={styles.number}>{stepThree.number}</p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="10"
            height="10"
            viewBox="0 0 10 10"
            fill="none"
          >
            <circle cx="5" cy="5" r="5" fill="#091728" />
          </svg>
          <p className={styles.title}>{stepThree.title}</p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="10"
            height="10"
            viewBox="0 0 10 10"
            fill="none"
          >
            <circle cx="5" cy="5" r="5" fill="#091728" />
          </svg>
        </div>
      </StepCarousel>
      <div className={styles.stepContainer}>
        <div className={styles.stepWrapper}>
          <div className={styles.videoBlock}>
            <VideoStep
              videoId={stepThree.video.videoId}
              posterImage={stepThree.video.posterImage}
              text={stepThree.video.text}
            />
          </div>
          <div className={styles.contentBlock}>
            <div className={styles.substeps}>
              {stepThree.substeps.map(substep => (
                <div key={substep._key} className={styles.substep}>
                  <p className={styles.substepTitle}>{substep.title}</p>
                  <p className={styles.substepText}>
                    {substep.description}
                    {""}
                    {substep.highlight && (
                      <span className={styles.substepHighlight}>
                        {substep.highlight}
                      </span>
                    )}
                  </p>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default StepThree;
